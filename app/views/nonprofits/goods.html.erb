<div class="container d-flex" style="width: 800px; justify-content: space-evenly;">
  <div class="flex-container">
    <div style="margin-right: 20px">
        <ul class="sticky-top" style="list-style: none;" >
          <%= link_to 'Cancel filters', goods_nonprofits_path, class:"clean"%>
          <% @goods_categories.each do |goods_category| %>
            <li>
              <%= link_to goods_category.name, goods_nonprofits_path(goods_category: goods_category, city: params[:city]), class: "filter-btns #{goods_category.id.to_s == params[:goods_category] ? "filter-btns--active" : ""}" %>
            </li>
          <% end %>
        </ul>
    </div>

    <div class="col-sm-6 " style="width: 600px;">
      <%# create partial for the cards display since it is the same in goods and volunteer  %>
      <div class="sticky-top" style="background-color: white; height: 150px; width: 600px">
        <div class="search-form" style="width: 50%; margin-left: 50px; color: grey;">
          <%= simple_form_for :search, url: goods_nonprofits_path, method: "GET", html: { class: 'form-inline' } do |f| %>
            <%= f.input :filter_by_city, collection: Nonprofit.pluck(:city).uniq, input_html: { name: 'city' }, selected: params[:city], include_blank: true %>
            <%= f.input :goods_category, as: :hidden, input_html: { value: params[:goods_category], name: 'goods_category' } %>
            <%= f.submit "Submit", class: "btn btn-search" %>
          <% end %>
        </div>
      </div>

      <div style="display: grid; grid-template-columns: 1fr; margin: 20px;">
        <% @nonprofits.uniq.each do |nonprofit| %>
          <%= link_to nonprofit_path(nonprofit), target: "_blank" do %>
        <div class="card-product">
            <div>
              <%= carus_image(nonprofit.logo) %>
            </div>
            <div class="card-product-infos">
              <h5><strong><%= nonprofit.name %></strong></h5>
              <h6><%= nonprofit.city %></h6>
              <p><%= nonprofit.brief_description %></p>
            </div>
         </div>
          <% end %>
        <% end %>
       </div>

    </div>

    <div class="map-column col-sm-4">
      <div id="map" style="width: 400px; height: 450px; border-radius: 8px; margin-top: 20px;"
        data-controller="map"
        data-map-markers-value="<%= @markers.to_json %>"
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
      </div>
    </div>
  </div>
</div>
